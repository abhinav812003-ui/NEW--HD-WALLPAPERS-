<!DOCTYPE html>
<html>
<head>
    <title>Photo Upload</title>
</head>
<body>

<h2>Upload Photo</h2>

<input type="file" id="photoInput" accept="image/*">
<br><br>
<button onclick="uploadPhoto()">Upload</button>

<p id="status"></p>
<img id="preview" width="300">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script>
/* üî¥ PASTE YOUR FIREBASE CONFIG HERE */
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "XXXX",
  appId: "XXXX"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const storage = firebase.storage();

function uploadPhoto() {
    const fileInput = document.getElementById("photoInput");
    const status = document.getElementById("status");
    const preview = document.getElementById("preview");

    const file = fileInput.files[0];

    if (!file) {
        status.innerText = "Please select an image first";
        return;
    }

    const storageRef = storage.ref("uploads/" + Date.now() + "_" + file.name);
    const uploadTask = storageRef.put(file);

    status.innerText = "Uploading...";

    uploadTask.on("state_changed",
        function (snapshot) {
            const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
            status.innerText = "Uploading: " + Math.round(progress) + "%";
        },
        function (error) {
            status.innerText = "Upload failed ‚ùå";
        },
        function () {
            uploadTask.snapshot.ref.getDownloadURL().then(function (url) {
                status.innerText = "Upload successful ‚úÖ";
                preview.src = url;
            });
        }
    );
}
</script>

</body>
</html>